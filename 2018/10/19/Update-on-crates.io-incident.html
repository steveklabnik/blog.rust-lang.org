<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Update on the October 15, 2018 incident on crates.io | Rust Blog</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
<meta name="description" content="Empowering everyone to build reliable and efficient software.">
     <!-- Twitter card -->
 <meta name="twitter:card" content="summary">
 <meta name="twitter:site" content="@rustlang">
 <meta name="twitter:creator" content="@rustlang">
 <meta name="twitter:title" content="Update on the October 15, 2018 incident on crates.io | Rust Blog">
 <meta name="twitter:description" content="Empowering everyone to build reliable and efficient software.">
<meta name="twitter:image" content="https://www.rust-lang.org/static/images/rust-social.jpg">

<!-- Facebook OpenGraph -->
<meta property="og:title" content="Update on the October 15, 2018 incident on crates.io | Rust Blog" />
<meta property="og:description" content="Empowering everyone to build reliable and efficient software.">
<meta property="og:image" content="https://www.rust-lang.org/static/images/rust-social-wide.jpg" />
<meta property="og:type" content="website" />
<meta property="og:locale" content="en_US" />

<!-- styles -->
<link rel="stylesheet" href="/styles/vendor.css"/>
<link rel="stylesheet" href="/styles/fonts.css"/>
<link rel="stylesheet" href="/styles/app.css"/>
<link rel="stylesheet" href="/styles/highlight.css"/>

<!-- favicon -->
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
<link rel="icon" type="image/svg+xml" href="/images/favicon.svg">
<link rel="manifest" href="/images/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#00aba9">
<meta name="theme-color" content="#ffffff">

 <!-- atom -->
 <link type="application/atom+xml" rel="alternate" href="https://blog.rust-lang.org/feed.xml" title="Rust Blog" />

  </head>
  <body>
    <nav class="flex flex-row justify-center justify-end-l items-center flex-wrap ph2 pl3-ns pr4-ns">
  <div class="brand flex-auto w-100 w-auto-l self-start tc tl-l">
    <a href="/">
      <img class="v-mid ml0-l" alt="Rust Logo" src="/images/rust-logo-blk.svg">
      <span class="dib ml1 ml0-l">Rust Blog</span>
    </a>
  </div>

  <ul class="nav list w-100 w-auto-l flex flex-none flex-row flex-wrap justify-center justify-end-l items-center pv2 ph0 ph4-ns">
    <li class="tc pv2 ph2 ph4-ns flex-20-s"><a href="https://www.rust-lang.org">Rust</a></li>
    <li class="tc pv2 ph2 ph4-ns flex-20-s"><a href="https://www.rust-lang.org/tools/install">Install</a></li>
    <li class="tc pv2 ph2 ph4-ns flex-20-s"><a href="https://www.rust-lang.org/learn">Learn</a></li>
    <li class="tc pv2 ph2 ph4-ns flex-20-s"><a href="https://www.rust-lang.org/tools">Tools</a></li>
    <li class="tc pv2 ph2 ph4-ns flex-20-s"><a href="https://www.rust-lang.org/governance">Governance</a></li>
    <li class="tc pv2 ph2 ph4-ns flex-20-s"><a href="https://www.rust-lang.org/community">Community</a></li>
  </ul>
</nav>

<section id="Update on the October 15, 2018 incident on crates.io" class="white">
  <div class="w-100 mw-none ph3 mw8-m mw8-l center f3">
    <header>
      <h2>Update on the October 15, 2018 incident on crates.io</h2>
      <div class="highlight mt2 mb3"></div>
    </header>

    <div class="publish-date-author">Oct. 19, 2018 &middot; The Crates.io Team
    
    </div>

    <div class="post">
      <p>On Monday, Oct 15, starting at approximately 20:00 UTC, crates.io sustained
an operational incident. You can find the status page report <a href="http://status.crates.io/incidents/cymjwvkrtjn3">here</a> and our
tweets about it <a href="https://twitter.com/cratesiostatus/status/1051953125030940674">here</a>.</p>
<h2><a href="#root-cause" aria-hidden="true" class="anchor" id="root-cause"></a>Root Cause</h2>
<p>A user called <code>cratesio</code> was created on crates.io and proceeded to upload
packages using common, short names. These packages contained nothing beyond a
<code>Cargo.toml</code> file and a <code>README.md</code> instructing users that if they wanted to use
the name, they should open an issue on the crates.io issue tracker.</p>
<p>The rate at which this user uploaded packages eventually resulted in our servers
being throttled by GitHub, causing a slowdown in all package uploads or yanks.
Endpoints which did not involve updating the index were unaffected.</p>
<p>We decided to take action on this behavior because:</p>
<ul>
<li>The contents of the uploaded packages appeared to be an attempt to impersonate
the crates.io team (both through the username <code>cratesio</code>, as well as directing people
to the crates-io issue tracker in the crates' <code>Readme</code> files)</li>
<li>the rate of uploading impacted the stability of the service</li>
</ul>
<h2><a href="#action-taken" aria-hidden="true" class="anchor" id="action-taken"></a>Action Taken</h2>
<p>The user's IP address was banned immediately. We then backdated the users' packages to remove
their packages from the homepage. We also redirected the <code>cratesio</code> user's page to a 404.</p>
<p>Finally, the <code>cratesio</code> user and all crates they uploaded were deleted.
The user was reported to GitHub, and has since been banned by them.</p>
<h2><a href="#timeline-of-events" aria-hidden="true" class="anchor" id="timeline-of-events"></a>Timeline of events</h2>
<ul>
<li>20:09 UTC: The GitHub user <code>cratesio</code> registers an account</li>
<li>20:13 UTC: This user begins uploading packages at a rate of roughly one package
every 2 seconds</li>
<li>20:17 UTC: All requests updating the index begin to take 10+ seconds</li>
<li>20:41 UTC: An email is sent to the Rust moderation team reporting this user</li>
<li>20:46 UTC: The report is forwarded to the crates.io team</li>
<li>20:50 UTC: The user is reported in the crates.io team Discord.</li>
<li>21:00 UTC: The user's IP address is blocked from accessing the site</li>
<li>21:20 UTC: The user's packages were removed from the crates.io homepage</li>
<li>21:20 UTC: The incident is announced on status.crates.io</li>
<li>22:49 UTC: The user's account page on crates.io is removed.</li>
<li>23:58 UTC: The packages, all associated data, and the user's account are deleted
from crates.io</li>
<li>00:40 UTC: The packages are removed from the index.</li>
</ul>
<h2><a href="#future-measures" aria-hidden="true" class="anchor" id="future-measures"></a>Future measures</h2>
<p>It should not have been possible for a single user or IP address to upload that
many packages in a short period of time. We will be introducing rate limiting on
this endpoint to limit the number of packages a script is able to upload in the
future.</p>
<p>We are also looking into disallowing usernames that could be impersonating
official Rust teams. We will be updating our policies to clearly state that this
form of impersonation is not allowed. We will be deciding the exact wording of
this policy in the coming weeks.</p>
<p>While it is impossible to tell a user's intent, many, including the team, have
speculated that this action was either associated with or directly related to the
recent escalation in community frustration around crates.io policies, in particular,
the squatting policy.</p>
<p>Regardless of whether this incident had this intent, the cratesio team would like
to reiterate that taking actions such as the one we experienced on Tuesday is not
an appropriate nor effective way to contribute to dialogue about crates.io policy.
We will be adding a policy making it clear that attempting to disrupt crates.io in order
to make or further a point is not appropriate and will be considered a malicious attack.
We will be deciding on the exact wording of this policy in the coming weeks.</p>
<p>If you feel that a policy is problematic, the correct place to propose a change is by
creating an RFC or messaging the team at help@crates.io.</p>
<p>We also have seen a lot of frustration that the crates.io team is not listening to the concerns
that are being raised on both official and unofficial Rust forums. We agree that we should
improve our communication with the community and intend to develop more processes
for folks to communicate with us, as well as for the team to communicate to the general
community.</p>
<h2><a href="#background" aria-hidden="true" class="anchor" id="background"></a>Background</h2>
<p>There has been a growing amount of discussion in the community around our
squatting policy and our decision not to have namespacing.</p>
<p><a href="https://internals.rust-lang.org/t/crates-io-package-policies/1041">The original squatting policy</a>,
published in 2014, contains a lot more information about the rationale behind
the policy than what is currently on our website. The full text of the original
policy is:</p>
<blockquote>
<p>Nobody likes a “squatter”, but finding good rules that define squatting that
can be applied mechanically is notoriously difficult. If we require that the
package has at least some content in it, squatters will insert random content.
If we require regular updates, squatters will make sure to update regularly,
and that rule might apply over-zealously to packages that are relatively
stable.</p>
</blockquote>
<blockquote>
<p>A more case-by-case policy would be very hard to get right, and would almost
certainly result in bad mistakes and regular controversies.</p>
</blockquote>
<blockquote>
<p>Instead, we are going to stick to a first-come, first-served system. If someone
wants to take over a package, and the previous owner agrees, the existing
maintainer can add them as an owner, and the new maintainer can remove them. If
necessary, the team may reach out to inactive maintainers and help mediate the
process of ownership transfer. We know that this means, in practice, that
certain desirable names will be taken early on, and that those early users may
not be using them in the most optimal way (whether they are claimed by squatters
or just low-quality packages). Other ecosystems have addressed this problem
through the use of more colorful names, and we think that this is actually a
feature, not a bug, of this system. We talk about this more below.</p>
</blockquote>
<p>We will be discussing whether including some of this information in the policy
published on our website would help more people to understand the rationale
behind our policy, without requiring members of the team to reply to every forum
thread wanting to re-litigate what has already been discussed at length.</p>
<h2><a href="#conclusion" aria-hidden="true" class="anchor" id="conclusion"></a>Conclusion</h2>
<p>We wanted to share the details of what happened and why the crates.io team chose to take action
as quickly as possible. The policy changes we've described will be discussed
during the next several team meetings. Nothing is set in stone until the team
has a chance to discuss them further, but we wanted to share the possible
changes we're discussing to limit speculation on what future actions we're
planning on taking.</p>
<p>As a reminder, if you would like to report an incident regarding cratesio, you
can message the team at help@crates.io. You can view the status of the service
at https://crates-io.statuspage.io/ and/or by following @cratesiostatus on Twitter.</p>

    </div>
  </div>
</section>

    <footer>
  <div class="w-100 mw-none ph3 mw8-m mw9-l center f3">
    <div class="row">
      <div class="four columns mt3 mt0-l" id="get-help">
        <h4>Get help!</h4>
        <ul>
          <li><a href="https://doc.rust-lang.org" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="mailto:core-team@rust-lang.org">Contact the Rust Team</a></li>
          <li><a href="http://ping.rust-lang.org">Check Website Status</a></li>
        </ul>
      </div>
      <div class="four columns mt3 mt0-l">
        <h4>Terms and policies</h4>
        <ul>
          <li><a href="https://www.rust-lang.org/policies/code-of-conduct">Code of Conduct</a></li>
          <li><a href="https://www.rust-lang.org/policies/licenses">Licenses</a></li>
          <li><a href="https://www.rust-lang.org/policies/media-guide">Logo Policy and Media Guide</a></li>
          <li><a href="https://www.rust-lang.org/policies/security">Security Disclosures</a></li>
          <li><a href="https://www.rust-lang.org/policies">All Policies</a></li>
        </ul>
      </div>
      <div class="four columns mt3 mt0-l">
        <h4>Social</h4>
        <a href="https://twitter.com/rustlang" target="_blank" rel="noopener" alt="twitter link"><img src="/images/twitter.svg" alt="twitter logo" title="Twitter"/></a>
        <a href="https://www.youtube.com/channel/UCaYhcUwRBNscFNUKTjgPFiA" target="_blank" rel="noopener" alt="youtube link"><img style="padding-top: 6px; padding-bottom:6px" src="/images/youtube.svg" alt="youtube logo" title="YouTube"/></a>
        <a href="https://discord.gg/rust-lang" target="_blank" rel="noopener" alt="discord link"><img src="/images/discord.svg" alt="discord logo" title="Discord"/></a>
        <a href="https://github.com/rust-lang" target="_blank" rel="noopener" alt="github link"><img src="/images/github.svg" alt="github logo" title="GitHub"/></a>
      </div>

    </div>
    <div class="attribution">
      Maintained by the Rust Team. See a typo?
      <a href="https://github.com/rust-lang/blog.rust-lang.org" target="_blank" rel="noopener">Send a fix here</a>!
    </div>
  </div>
</footer>

<!-- scripts -->
<script src="/scripts/highlight.js"></script>

  </body>
</html>
